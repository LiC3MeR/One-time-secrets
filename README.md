# Сервис "Одноразовые секреты"

Безопасный сервис для хранения и передачи конфиденциальных данных, которые можно просмотреть только один раз.

## Возможности

- Создание зашифрованных секретов, которые можно просмотреть только один раз
- Дополнительная защита с помощью парольной фразы
- Настраиваемое время жизни секретов (TTL)
- Подробное логирование всех операций
- Развертывание с помощью Docker

## Технологический стек

- **Бэкенд**: FastAPI (Python)
- **База данных**: PostgreSQL
- **Кэш**: Redis
- **Контейнеризация**: Docker и Docker Compose

## API-эндпоинты

### Создание секрета

```
POST /api/v1/secret
```

Тело запроса:

```json
{
  "secret": "конфиденциальные_данные",
  "passphrase": "опциональная_парольная_фраза",
  "ttl_seconds": 3600
}
```

Ответ:

```json
{
  "secret_key": "уникальный_идентификатор"
}
```

### Получение секрета

```
GET /api/v1/secret/{secret_key}
```

Ответ:

```json
{
  "secret": "конфиденциальные_данные"
}
```

### Удаление секрета

```
DELETE /api/v1/secret/{secret_key}?passphrase=ваша_парольная_фраза
```

Ответ:

```json
{
  "status": "secret_deleted"
}
```

## Запуск сервиса

1. Клонируйте репозиторий
2. Запустите сервисы с помощью Docker Compose:

```bash
docker-compose up -d
```

3. API будет доступно по адресу [http://localhost:8000](http://localhost:8000)
4. Документация API доступна по адресу [http://localhost:8000/docs](http://localhost:8000/docs)

## Особенности безопасности

- Все секреты шифруются с использованием AES-256-CBC
- Секреты можно просмотреть только один раз
- Дополнительная защита с помощью парольной фразы
- HTTP-заголовки предотвращают кэширование на стороне клиента
- Подробное логирование аудита для отслеживания всех действий
